import{f as V,g as T,d as v,h as P,i as $,o as a,c as _,a as t,u,t as h,b as l,w as I,B as A,r as m,_ as f,F as B,j as L,k as S,l as C,m as F,v as q}from"./index.dea2cd33.js";function E(c=!0){const{data:e,isLoading:d,isFetching:o,isSuccess:n,refetch:r}=V(["products"],T,{refetchOnWindowFocus:!1,retry:1,onError:s=>console.error(s),enabled:c});return{data:e,isLoading:d,isFetching:o,isSuccess:n,fetchProducts:r}}const N={class:"product"},O={class:"product-img"},U=["src","alt"],z={class:"product-info"},D={class:"select-container"},Q={class:"btn-body add-cart-btn"},j=v({__name:"ProductItem",props:{product:null},setup(c){const e=c,d="https://apple-shop-backend.herokuapp.com",o=P(1),n=Array.from(Array(10).keys()).map(y=>y+1),{add:r,isAddingToCart:s}=$(p);function i(){window.scrollTo({top:0,behavior:"smooth"})}function p(){o.value=1,i()}function x(){r({productId:e.product.id,quantity:o.value})}return(y,g)=>{const k=m("v-select"),b=m("vue-feather");return a(),_("div",N,[t("div",O,[t("img",{src:`${u(d)}/${e.product.productImage}`,alt:e.product.name},null,8,U)]),t("div",z,[t("h3",null,h(e.product.name),1),t("p",null,h(`$${e.product.price}.00`),1),t("div",D,[l(k,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=w=>o.value=w),options:u(n),placeholder:"Qnty",clearable:!1},null,8,["modelValue","options"])]),l(A,{theme:"primary",onClick:x},{default:I(()=>[t("div",Q,[t("span",null,h(u(s)?"Adding...":"Add to Cart"),1),l(b,{type:u(s)?"loader":"shopping-cart",size:"20px"},null,8,["type"])])]),_:1})])])}}});const M=f(j,[["__scopeId","data-v-241be59c"]]),R={key:0,class:"products"},W=v({__name:"ProductsContainer",props:{products:null},setup(c){const e=c;return(d,o)=>c.products?(a(),_("div",R,[(a(!0),_(B,null,L(e.products,n=>(a(),C(M,{key:n.id,product:n},null,8,["product"]))),128))])):S("",!0)}});const G=f(W,[["__scopeId","data-v-47f213e4"]]),H={class:"home-container"},J={class:"search"},K={key:0},X=v({__name:"ProductsView",setup(c){const e=P(""),{data:d,isLoading:o}=E();function n(){var r;return(r=d.value)==null?void 0:r.filter(s=>s.name.toLowerCase().includes(e.value.toLowerCase()))}return(r,s)=>{const i=m("vue-feather");return a(),_("div",H,[t("div",J,[F(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>e.value=p),placeholder:"Search"},null,512),[[q,e.value]]),l(i,{type:"search",size:"20px"})]),u(o)?(a(),_("h3",K,[l(i,{type:"loader"})])):(a(),C(G,{key:1,products:n()},null,8,["products"]))])}}});const Z=f(X,[["__scopeId","data-v-0d3f9b88"]]);export{Z as default};
