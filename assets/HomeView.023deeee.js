import{u as V,g as T,d as v,r as C,a as $,o as r,c as _,b as t,e as u,t as m,f as l,w as I,B as A,h,_ as f,F as B,i as L,j as S,k as x,l as F,v as q}from"./index.97b6b6b7.js";function E(c=!0){const{data:e,isLoading:d,isFetching:o,isSuccess:n,refetch:a}=V(["products"],T,{refetchOnWindowFocus:!1,retry:1,onError:s=>console.error(s),enabled:c});return{data:e,isLoading:d,isFetching:o,isSuccess:n,fetchProducts:a}}const H={class:"product"},N={class:"product-img"},O=["src","alt"],U={class:"product-info"},z={class:"select-container"},D={class:"btn-body add-cart-btn"},Q=v({__name:"ProductItem",props:{product:null},setup(c){const e=c,d="https://apple-shop-backend.herokuapp.com",o=C(1),n=Array.from(Array(10).keys()).map(y=>y+1),{add:a,isAddingToCart:s}=$(p);function i(){window.scrollTo({top:0,behavior:"smooth"})}function p(){o.value=1,i()}function k(){a({productId:e.product.id,quantity:o.value})}return(y,g)=>{const P=h("v-select"),b=h("vue-feather");return r(),_("div",H,[t("div",N,[t("img",{src:`${u(d)}/${e.product.productImage}`,alt:e.product.name},null,8,O)]),t("div",U,[t("h3",null,m(e.product.name),1),t("p",null,m(`$${e.product.price}.00`),1),t("div",z,[l(P,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=w=>o.value=w),options:u(n),placeholder:"Qnty",clearable:!1},null,8,["modelValue","options"])]),l(A,{theme:"primary",onClick:k},{default:I(()=>[t("div",D,[t("span",null,m(u(s)?"Adding...":"Add to Cart"),1),l(b,{type:u(s)?"loader":"shopping-cart",size:"20px"},null,8,["type"])])]),_:1})])])}}});const j=f(Q,[["__scopeId","data-v-241be59c"]]),M={key:0,class:"products"},R=v({__name:"ProductsContainer",props:{products:null},setup(c){const e=c;return(d,o)=>c.products?(r(),_("div",M,[(r(!0),_(B,null,L(e.products,n=>(r(),x(j,{key:n.id,product:n},null,8,["product"]))),128))])):S("",!0)}});const W=f(R,[["__scopeId","data-v-47f213e4"]]),G={class:"home-container"},J={class:"search"},K={key:0},X=v({__name:"HomeView",setup(c){const e=C(""),{data:d,isLoading:o}=E();function n(){var a;return(a=d.value)==null?void 0:a.filter(s=>s.name.toLowerCase().includes(e.value.toLowerCase()))}return(a,s)=>{const i=h("vue-feather");return r(),_("div",G,[t("div",J,[F(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>e.value=p),placeholder:"Search"},null,512),[[q,e.value]]),l(i,{type:"search",size:"20px"})]),u(o)?(r(),_("h3",K,[l(i,{type:"loader"})])):(r(),x(W,{key:1,products:n()},null,8,["products"]))])}}});const Z=f(X,[["__scopeId","data-v-8d1a42b7"]]);export{Z as default};
