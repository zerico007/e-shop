import{m as V,q as T,d as v,r as P,s as $,o as a,a as _,b as t,f as u,x as m,e as l,g as A,B as I,i as h,_ as f,F as B,y as L,z as S,A as x,w as q,v as F}from"./index.8f8a51e4.js";function z(c=!0){const{data:e,isLoading:d,isFetching:o,isSuccess:n,refetch:r}=V(["products"],T,{refetchOnWindowFocus:!1,retry:1,onError:s=>console.error(s),enabled:c});return{data:e,isLoading:d,isFetching:o,isSuccess:n,fetchProducts:r}}const E={class:"product"},N={class:"product-img"},O=["src","alt"],U={class:"product-info"},D={class:"select-container"},Q={class:"btn-body add-cart-btn"},M=v({__name:"ProductItem",props:{product:null},setup(c){const e=c,d="https://apple-shop-backend.herokuapp.com",o=P(1),n=Array.from(Array(10).keys()).map(y=>y+1),{add:r,isAddingToCart:s}=$(p);function i(){window.scrollTo({top:0,behavior:"smooth"})}function p(){o.value=1,i()}function C(){r({productId:e.product.id,quantity:o.value})}return(y,g)=>{const b=h("v-select"),k=h("vue-feather");return a(),_("div",E,[t("div",N,[t("img",{src:`${u(d)}/${e.product.productImage}`,alt:e.product.name},null,8,O)]),t("div",U,[t("h3",null,m(e.product.name),1),t("p",null,m(`$${e.product.price}.00`),1),t("div",D,[l(b,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=w=>o.value=w),options:u(n),placeholder:"Qnty",clearable:!1},null,8,["modelValue","options"])]),l(I,{theme:"primary",onClick:C},{default:A(()=>[t("div",Q,[t("span",null,m(u(s)?"Adding...":"Add to Cart"),1),l(k,{type:u(s)?"loader":"shopping-cart",size:"20px"},null,8,["type"])])]),_:1})])])}}});const R=f(M,[["__scopeId","data-v-241be59c"]]),W={key:0,class:"products"},j=v({__name:"ProductsContainer",props:{products:null},setup(c){const e=c;return(d,o)=>c.products?(a(),_("div",W,[(a(!0),_(B,null,L(e.products,n=>(a(),x(R,{key:n.id,product:n},null,8,["product"]))),128))])):S("",!0)}});const G=f(j,[["__scopeId","data-v-47f213e4"]]),H={class:"home-container"},J={class:"search"},K={key:0},X=v({__name:"ProductsView",setup(c){const e=P(""),{data:d,isLoading:o}=z();function n(){var r;return(r=d.value)==null?void 0:r.filter(s=>s.name.toLowerCase().includes(e.value.toLowerCase()))}return(r,s)=>{const i=h("vue-feather");return a(),_("div",H,[t("div",J,[q(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>e.value=p),placeholder:"Search"},null,512),[[F,e.value]]),l(i,{type:"search",size:"20px"})]),u(o)?(a(),_("h3",K,[l(i,{type:"loader"})])):(a(),x(G,{key:1,products:n()},null,8,["products"]))])}}});const Z=f(X,[["__scopeId","data-v-0d3f9b88"]]);export{Z as default};
